'use strict';

Object.defineProperties(exports, { __esModule: { value: true }, [Symbol.toStringTag]: { value: 'Module' } });

const zod = require('zod');
const tool = require('./tool.js');

const pressKey = (captureSnapshot) => tool.defineTool({
  capability: "core",
  schema: {
    name: "browser_press_key",
    description: "Press a key on the keyboard",
    inputSchema: zod.z.object({
      key: zod.z.string().describe("Name of the key to press or a character to generate, such as `ArrowLeft` or `a`")
    })
  },
  handle: async (context, params) => {
    const tab = context.currentTabOrDie();
    const code = [
      `// Press ${params.key}`,
      `await page.keyboard.press('${params.key}');`
    ];
    const action = () => tab.page.keyboard.press(params.key);
    return {
      code,
      action,
      captureSnapshot,
      waitForNetwork: true
    };
  }
});
const keyboard = (captureSnapshot) => [
  pressKey(captureSnapshot)
];

exports.default = keyboard;
