import { z } from 'zod';
import { defineTool } from './tool.js';

const console = defineTool({
  capability: "core",
  schema: {
    name: "browser_console_messages",
    description: "Returns all console messages",
    inputSchema: z.object({})
  },
  handle: async (context) => {
    const messages = context.currentTabOrDie().console();
    const log = messages.map((message) => `[${message.type().toUpperCase()}] ${message.text()}`).join("\n");
    return {
      code: [`// <internal code to get console messages>`],
      action: async () => {
        return {
          content: [{ type: "text", text: log }]
        };
      },
      captureSnapshot: false,
      waitForNetwork: false
    };
  }
});
const console$1 = [
  console
];

export { console$1 as default };
